(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d76dcbc"],{"035c":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"role"},[l("el-card",{attrs:{shadow:"always"}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:6}},[l("el-input",{attrs:{size:"medium"},model:{value:e.params.roleName,callback:function(t){e.$set(e.params,"roleName",t)},expression:"params.roleName"}},[l("template",{slot:"prepend"},[e._v("角色名称")])],2)],1),l("el-col",{attrs:{span:18}},[l("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end"}},[l("el-button",{attrs:{plain:"",size:"medium"}},[e._v("重置")]),l("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("查询")])],1)])],1),l("br"),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.showEditRole(null)}}},[e._v("新增")])],1)],1),l("el-divider"),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList,stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号"}}),l("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),l("el-table-column",{attrs:{prop:"roleIdentification",label:"角色标识"}}),l("el-table-column",{attrs:{prop:"department",label:"部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(1===t.row.department?"部门一":"部门二"))])]}}])}),l("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(l){return e.showEditAuth(t.row)}}},[e._v("权限管理")]),l("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(l){return e.showEditRole(t.row)}}},[e._v("编辑")]),l("el-popconfirm",{attrs:{icon:"el-icon-info","icon-color":"red",placement:"top-end",title:"确定要删除该角色吗？"},on:{onConfirm:function(l){return e.deleteRole(t.row)}}},[l("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),l("br"),l("div",{staticClass:"pagination-position"},[l("el-pagination",{attrs:{"current-page":e.params.current,"page-sizes":[10,20,30,50],"page-size":e.params.size,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),l("el-dialog",{attrs:{title:e.title,visible:e.editRoleFlag,width:"40%","before-close":e.cancelRoleEdit},on:{"update:visible":function(t){e.editRoleFlag=t}}},[l("div",{staticStyle:{width:"80%",margin:"0 auto"}},[l("el-form",{ref:"roleForm",attrs:{model:e.role,rules:e.rules,"label-suffix":":","label-width":"100px"}},[l("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[l("el-input",{attrs:{placeholder:"请输入角色名称",size:"medium"},model:{value:e.role.roleName,callback:function(t){e.$set(e.role,"roleName",t)},expression:"role.roleName"}})],1),l("el-form-item",{attrs:{label:"角色标识",prop:"roleIdentification"}},[l("el-input",{attrs:{placeholder:"请输入角色标识",size:"medium"},model:{value:e.role.roleIdentification,callback:function(t){e.$set(e.role,"roleIdentification",t)},expression:"role.roleIdentification"}})],1),l("el-form-item",{attrs:{label:"部门",prop:"department"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择部门",size:"medium"},model:{value:e.role.department,callback:function(t){e.$set(e.role,"department",t)},expression:"role.department"}},[l("el-option",{attrs:{value:1,label:"部门一"}}),l("el-option",{attrs:{value:2,label:"部门二"}})],1)],1)],1)],1),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.cancelRoleEdit}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("确 定")])],1)]),l("el-dialog",{attrs:{title:"权限管理",visible:e.editAuthFlag,width:"40%","before-close":e.cancelAuthEdit},on:{"update:visible":function(t){e.editAuthFlag=t}}},[l("div",{staticStyle:{width:"80%",margin:"0 auto"}},[l("el-checkbox-group",{model:{value:e.role.authority,callback:function(t){e.$set(e.role,"authority",t)},expression:"role.authority"}},[l("div",{staticClass:"auth-area"},e._l(e.authList,(function(t,a){return l("div",{key:a,staticClass:"auth-item"},[l("el-checkbox",{attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),0)])],1),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.cancelAuthEdit}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.confirmAuth}},[e._v("确 定")])],1)])],1)},o=[],r=l("ed08"),i={roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],roleIdentification:[{required:!0,message:"请输入角色标识",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"change"}]},n=i,s={name:"index",data:function(){return{total:5,params:{roleName:"",current:1,size:10},roleList:[{roleName:"管理员",roleIdentification:"管理员",department:1,authority:[1,2,3,4],createDate:"2021-04-30"},{roleName:"车间人员",roleIdentification:"车间人员",department:1,authority:[1,2],createDate:"2021-05-10"},{roleName:"调度人员",roleIdentification:"调度人员",department:1,authority:[],createDate:"2021-05-11"},{roleName:"质检人员",roleIdentification:"质检人员",department:2,authority:[],createDate:"2021-05-12"},{roleName:"外部用户",roleIdentification:"外部用户",department:2,authority:[],createDate:"2021-05-13"}],editRoleFlag:!1,title:"新增角色",role:{roleName:"",roleIdentification:"",department:"",authority:[],createDate:""},rules:n,editAuthFlag:!1,authList:[{label:"设备建模",value:1},{label:"生产管理",value:2},{label:"电子报表",value:3},{label:"用户权限",value:4}]}},methods:{handleSizeChange:function(e){console.log(e)},handleCurrentChange:function(e){console.log(e)},showEditRole:function(e){e?(this.title="编辑角色",this.role=Object(r["c"])(e)):this.title="新增角色",this.editRoleFlag=!0},showEditAuth:function(e){this.role=Object(r["c"])(e),this.editAuthFlag=!0},deleteRole:function(e){console.log(e)},confirmRole:function(){var e=this;this.$refs["roleForm"].validate((function(t){if(!t)return!1;console.log(e.role),e.editRoleFlag=!1}))},cancelRoleEdit:function(){this.$refs["roleForm"].resetFields(),this.editRoleFlag=!1},confirmAuth:function(){console.log(this.role),this.editAuthFlag=!1},cancelAuthEdit:function(){this.editAuthFlag=!1}}},c=s,u=(l("e18b"),l("2877")),d=Object(u["a"])(c,a,o,!1,null,"755fb1e2",null);t["default"]=d.exports},e0c8:function(e,t,l){},e18b:function(e,t,l){"use strict";l("e0c8")}}]);